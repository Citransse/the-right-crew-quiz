<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Äî The Right Crew Quiz</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; background: #f8f8f8; }
    h1 { color: #333; }
    .question-block { background: white; padding: 15px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    ul { list-style: none; padding-left: 0; }
    li { margin: 5px 0; }
  </style>
</head>
<body>

<h1>üìä –ñ–∏–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: The Right Crew Quiz</h1>
<div id="stats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

<script>
  // üîê –í—Å—Ç–∞–≤—å —Å—é–¥–∞ —Ç–æ—Ç –∂–µ –∫–æ–Ω—Ñ–∏–≥, —á—Ç–æ –∏ –≤ index.html
  const firebaseConfig = {
    apiKey: "AIzaSyCivkeVTtfadjfaUjbZRXkUnDHwD_PzRBc",
  authDomain: "the-right-crew-quiz.firebaseapp.com",
  databaseURL: "https://the-right-crew-quiz-default-rtdb.firebaseio.com",
  projectId: "the-right-crew-quiz",
  storageBucket: "the-right-crew-quiz.firebasestorage.app",
  messagingSenderId: "970983835882",
  appId: "1:970983835882:web:e7784993f9ad00bc016f93"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å index.html ‚Äî –æ–±–Ω–æ–≤–∏ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—à—å
  const questions = [
    {
      id: 'q1',
      text: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–º –∏ —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–æ–º –∫–æ–º–∞–Ω–¥—ã The Right Crew?",
      answers: [
        {id: 'a1', text: '–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤'},
        {id: 'a2', text: '–°–∞—à–∞ –ö–æ–∑–ª–æ–≤'},
        {id: 'a3', text: '–î–º–∏—Ç—Ä–∏–π –°–º–∏—Ä–Ω–æ–≤'}
      ]
    },
    {
      id: 'q2',
      text: "–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –±–∞–∑–∏—Ä—É–µ—Ç—Å—è —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ The Right Crew?",
      answers: [
        {id: 'a1', text: '–ú–æ—Å–∫–≤–∞'},
        {id: 'a2', text: '–í–æ—Ä–æ–Ω–µ–∂'},
        {id: 'a3', text: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'}
      ]
    },
    // –î–æ–±–∞–≤—å —Å—é–¥–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –µ—Å—Ç—å
  ];

  const statsDiv = document.getElementById('stats');

  function showStats(data) {
    const statsData = data.val();
    if (!statsData) {
      statsDiv.innerHTML = '<p>–û—Ç–≤–µ—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç.</p>';
      return;
    }

    const counts = {};
    Object.values(statsData).forEach(userAns => {
      Object.entries(userAns).forEach(([qId, aId]) => {
        if (!counts[qId]) counts[qId] = {};
        counts[qId][aId] = (counts[qId][aId] || 0) + 1;
      });
    });

    let html = '';
    for (const q of questions) {
      html += `<div class="question-block"><h3>${q.text}</h3><ul>`;
      q.answers.forEach(ans => {
        const count = counts[q.id]?.[ans.id] || 0;
        html += `<li>${ans.text}: <strong>${count}</strong></li>`;
      });
      html += `</ul></div>`;
    }

    statsDiv.innerHTML = html;
  }

  db.ref('answers').on('value', showStats);
</script>

</body>
</html>
